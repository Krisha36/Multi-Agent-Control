# Spawning Multiple Robots in Gazebo
[![ROS](https://img.shields.io/badge/ROS-Noetic%20or%20later-blue.svg)](http://wiki.ros.org/ROS/Installation)
[![Python](https://img.shields.io/badge/Python-3.7%20or%20later-blue.svg)](https://www.python.org/downloads/)
[![Gazebo Simulator](https://img.shields.io/badge/Simulator-Gazebo-orange.svg)](http://wiki.ros.org/gazebo_ros_pkgs)

<!-- *(Optional)* -->

This repository contains Python scripts and launch files to spawn multiple robots (turtlebots) in a predefined formation in a Gazebo world. 

<img src="results/three_lines_spawn_30.gif" alt="Three Lines" width="700">


## Application
The application of this repository is to spawn multiple robots in a Gazebo world in a predefined formation, which can be used for multi-robot simulations and experiments. The robots are spawned in a formation that can be customized to suit the user's requirements. The robots can be used for various tasks such as multi-robot coordination, exploration, mapping, and navigation.

## Dependencies
The following dependencies are required to run the scripts and launch files in this repository:
- ROS: The Robot Operating System (ROS) is a flexible framework for writing robot software. You can download and install ROS from the official ROS website: [ROS](http://www.ros.org/).
- Gazebo: Gazebo is a 3D dynamic simulator with the ability to accurately and efficiently simulate populations of robots in complex indoor and outdoor environments. You can download and install Gazebo from the official Gazebo website: [Gazebo](http://gazebosim.org/).
- TurtleBot3: TurtleBot3 is a low-cost, personal robot kit with open-source software. You can install the TurtleBot3 packages by following the instructions on the official TurtleBot3 website: [TurtleBot3](https://emanual.robotis.com/docs/en/platform/turtlebot3/overview/).

## Installation
To install the dependencies, follow the installation instructions provided on the official websites of ROS, Gazebo, and TurtleBot3. Make sure to install the required packages and dependencies for each of the software frameworks.

## Usage
To use the scripts and launch files in this repository, follow the steps below:
1. Clone the repository into your catkin workspace:
   ```bash
   cd ~/catkin_ws/src
   git clone git@github.com:MosesEbere/gazebo_multi_robot_spawn.git
    ```
2. Build the packages in the catkin workspace:
    ```bash
    cd ~/catkin_ws
    catkin_make
    ```
3. Source the setup file of the catkin workspace:
    ```bash
    source ~/catkin_ws/devel/setup.bash
    ```
4. Launch the multi-robot spawn launch file to spawn the robots in Gazebo:
    ```bash
    roslaunch gazebo_multi_robot_spawn gazebo_robots.launch
    ```
5. The robots will be spawned in Gazebo in the predefined formation.

6. Optionally, you can launch the static transform publisher to publish the static transform between the map and the base_footprint frame of each robot:
    ```bash
    roslaunch gazebo_multi_robot_spawn static_tf.launch
    ```

## Launch Files
The following launch files are included in this repository:
- robot_spawn_coordinator.launch: This launch file is used to spawn multiple robots in a predefined formation in a Gazebo world. The number of robots and the formation can be customized by modifying the `params.yaml` file.
  * This launch file also launches the octomap_server (included in `robot_spawn_coordinator.launch`), which is used to generate a map of the environment. In the current setup, one robot is used to generate a reference map.
- static_tf.launch: This launch file is used to publish the static transform between the map and the base_footprint frame of each robot. This is required for the robots to navigate in the environment.
- spawn_multi_robot.launch: This launch file is only generated at runtime and is used to spawn the robots in Gazebo. It is generated by the `robots_gazebo_launch_generator.py` file. Once the robots are spawned, the launch file is reset (with a fixed delay - currently 15 seconds) using the `reset_gazebo_launch.py` node.

**Note**: It is important to wait for the defined delay to ensure that the `reset_gazebo_launch.py` node is called to reset the `spawn_multi_robot.launch:` launch file.

## Customization
The formation of the robots can be customized by modifying the Python scripts and launch files in the repository. The spawn locations and orientations of the robots can be adjusted to create different formations. The number of robots can also be increased or decreased based on the user's requirements.

### Number of Robots
The number of robots to be spawned can be adjusted by modifying the `num_of_robots` entry in the yaml file in the `gazebo_multi_robot_spawn` package. 


